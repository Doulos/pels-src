/* buferr-overflow.c
 */
#include<stdio.h>
#include<string.h> 
#include<unistd.h>

#define BUFFER_SIZE 8

void unsafe (char *input);
void caller (char *input);

void secret() {
	printf("WELL PLAYED!!!\n");
}

void caller (char *input) {
	unsafe (input);
}

void unsafe (char *input)
{
	int ret;
	char userInput[BUFFER_SIZE];
	strcpy(userInput,input); // buggy function...
	printf("Got string: %s\n", userInput);
}

int main(int argc,char **argv)
{

	if(argc != 2)
	{
		printf("Usage : %s userInput\n",argv[0]);
		return(0);
	}


	printf("There is a secret function at %p\n",secret); 
	caller(argv[1]);
	
	return 0;
}


/* buferr-overflow1.c
 */
#include<stdio.h>
#include<string.h> 
#include<unistd.h>

#define BUFFER_SIZE 64

void unsafe (char *input);

int secret() {
	printf("WELL PLAYED!!!\n");
	return 0;
}

void caller (char *input) {
	unsafe (input);
}

void unsafe (char *input)
{
	int key = 0x400;
	printf("The current value of the key is %d\n",key);
	printf("Your input is: ");
	printf(input,&key);
	printf("\nLets see if this input has changed the key value to 10 ... \n");
	if ( key == 10 ) {
		secret();
	} else
	printf("Nope! Try again ;)\n");
}

int main(int argc,char **argv)
{

	if(argc != 2)
	{
		printf("Usage : %s userInput\n",argv[0]);
		return(0);
	}


	caller(argv[1]);
	
	return 0;
}

